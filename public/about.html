<!doctype html>
<html>
    <head>
        <title>about</title> <!-- TITLE -->
        <link rel="stylesheet" href="css/default.css" /> <!-- Introduce external CSS style sheets -->
    </head>
    
    <body>
        <header>
            <div class="header-top">
                <div class="width-center">
                    <div class="header-logo "><img src="images/logo.png" alt=""></div> <!-- web logo -->
                    <div class="header-title div-inline">
                        <!-- You can place website titles here -->
                    </div>
                    <div class="header-right">
                        <span>Help Phone</span> <!-- Helpline -->
                        <span>400-000-000</span> <!-- hotline -->
                    </div>
                </div>
            </div>
            <div class="header-nav">
                <nav>
                    <ul class="header-nav-ul am-collapse am-in">
                        <li><a href="index.html" name="index">HOME</a></li> <!-- home link -->
                        <li><a href="fundraiser.html" name="show">FUNDRAISER</a></li> <!-- Fundraising page link -->
                    </ul>
                </nav>
            </div>
        </header>
        
    <div class="am-viewport" style="overflow: hidden; position: relative;text-align: center;">
        <ul class="am-slides">
            <li class="clone" style="display: block;margin-top: 20px;">
                <img src="images/banner2.png" style="width: 60vw;"> <!-- Banner image -->
            </li>
        </ul>
    </div>

    

    <footer class="footer" style="margin-top: 30px;">
        <div class="footer-pc">
            <ul>
                <li><a href="index.html">home</a>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;<a href="fundraiser.html">fundraiser</a></li>
                <li>Copyright &copy; 2024</li> <!-- Footer copyright information -->
            </ul>
        </div>
    </footer>
    
    <script>
        // Get query parameters from the URL
        
        let params = new URLSearchParams(window.location.search);
        
       
         // Fetch fundraising data based on fundraiserId
         
        fetch('http://localhost:5558/about/' + params.get("fundraiserId"))
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok'); // Check if the response is ok
            }
            return response.json(); // Parse JSON data
        })
        .then(res => {
            if (res.code == 200) { // If the response code is 200 (success)
                let data = res.data[0]; // Get the first item of the data
                document.getElementById("image").setAttribute("src", "images/" + data.image); // Set image source
                document.getElementById("caption").innerHTML = (data.caption); // Set image caption
                document.getElementById("current_funding").innerHTML = ("Current USD:  " + data.current_funding); // Set current funding amount
                document.getElementById("target_funding").innerHTML = ("Target USD:  " + data.target_funding); // Set target funding amount
                document.getElementById("organizer").innerHTML = (data.organizer); // Set organizer information
                document.getElementById("city").innerHTML = ("City: " + data.city + "/Category:" + data.name); // Set city and category information
                document.getElementById("active").innerHTML = ("Active: " + (data.active == 0 ? "No" : "Yes")); // Set activity status
            }
        })
        .catch(error => console.error('There was a problem with your fetch operation:', error)); // Error handling
    </script>